import Example from './Example';

<CH.Scrollycoding>

    # Prebuilt Checkout page

    <CH.Preview frameless>

        <Example />

    </CH.Preview>

    <CH.Code lineNumbers={true}>

        ```ts Example.tsx
        // from ./Example.tsx
        ```

    </CH.Code>

    Explore a full, working code sample of an integration with [Stripe Checkout](https://stripe.com/docs/payments/checkout). The client- and server-side code redirects to a prebuilt payment page hosted on Stripe.

    Before you get started, confirm the payment methods you want to offer in your [payment method settings](https://dashboard.stripe.com/settings/payment_methods). We enable cards and other common payment methods for you by default, and we recommend that you enable additional payment methods that are relevant for your business and customers.

    ---

    ## Set up the server

    ### Install the Stripe Ruby library

    ```ts Example.tsx focus=1

    ```

    Install the Stripe ruby gem and require it in your code. Alternatively, if youâ€™re starting from scratch and need a Gemfile, download the project files using the link in the code editor.

    ---

    ### Create a Checkout Session

    Add an endpoint on your server that creates a [Checkout Session](https://stripe.com/docs/api/checkout/sessions). A Checkout Session controls what your customer sees on the payment page such as line items, the order amount and currency, and acceptable payment methods. We enable cards and other common payment methods for you by default, and you can enable or disable payment methods directly in the [Stripe Dashboard](https://dashboard.stripe.com/settings/payment_methods).

    ```ts Example.tsx focus=2:10

    ```

    ---

    ### Define a product to sell

    ```ts Example.tsx focus=15:20

    ```

    Always keep sensitive information about your product inventory, such as price and availability, on your server to prevent customer manipulation from the client. Define product information when you create the Checkout Session using [predefined price IDs](https://stripe.com/docs/payments/accept-a-payment?platform=web&ui=checkout#create-product-prices-upfront) or on the fly with [price_data](https://stripe.com/docs/api/checkout/sessions/create#create_checkout_session-line_items-price_data).

    ---

    ### Choose the mode

    ```ts Example.tsx focus=21

    ```

    Checkout has three modes: `payment`, `subscription`, or `setup`. Use `payment` mode for one-time purchases. Learn more about [subscription](https://stripe.com/docs/billing/subscriptions/build-subscriptions) and [setup](https://stripe.com/docs/payments/save-and-reuse?platform=checkout) modes in the docs.

    ---

    ## Build your checkout

    ### Add a success page

    ```html success.html focus=7:15

    ```

    Create a success page for the URL you provided as the Checkout Session success_url to display order confirmation messaging or order details to your customer. Stripe redirects to this page after the customer successfully completes the checkout.

</CH.Scrollycoding>

<div style={{ height: 99 }} />
